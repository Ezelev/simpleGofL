<style media="screen">
  #canvas { border: 1px solid black;}
</style>
<body>
    <div id=container>
      <canvas id='canvas' width='500' height='500'></canvas>
    </div>

    <p id='showCoords'></p>
</body>
<script type="text/javascript">

  document.addEventListener('DOMContentLoaded', function(){ // Аналог $(document).ready(function(){
      drawGrid();
  });

  document.getElementById("canvas").addEventListener("click", getCoordinates);

  function drawGrid() {

      var canvas = document.getElementById('canvas');
      if (canvas.getContext) {
        
        var context = canvas.getContext('2d');

        for(var x=0.5;x<500;x+=10) {
          context.moveTo(x,0);
          context.lineTo(x,500);
        }

        for(var y=0.5; y<500; y+=10) {
          context.moveTo(0,y);
          context.lineTo(500,y);

      }

      context.strokeStyle='grey';
      context.stroke();

  }
}

function getCoordinates(e) {
    var x = event.clientX - 10;
    var y = event.clientY - 10;
    x = Math.ceil(x / 10);
    y = Math.ceil(y / 10);
    var coords = "X coordinates: " + x + ", Y coordinates: " + y;
    document.getElementById('showCoords').innerHTML = coords;
    x = (x * 10) - 10;
    y = (y * 10) - 10;
    colorCell(x,y);
  }

  function colorCell(x,y) {
    var canvas = document.getElementById('canvas');
    if (canvas.getContext) {
      var context = canvas.getContext('2d');
      context.fillRect(x, y, 10, 10);
    }
  }
</script>
